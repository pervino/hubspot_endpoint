class ContactService < Service

  def add!
    puts " ????????? ??????? ?????????"
    puts contact
    puts " ????????? ??????? ?????????"
    puts " !!!!!!!!! !!!!!!! !!!!!!!!!"
    puts @payload
    puts " !!!!!!!!! !!!!!!! !!!!!!!!!"
    @contact = Hubspot::Contact.create!(@payload["contact"]["email"], @payload["contact"])

    @contact.to_json
  end

  def update!
    @contact = Hubspot::Contact.find_by_email(contact[:email])
    @contact.update!(contact)

    @contact.to_json
  end
end